<!DOCTYPE html>
    <html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link href="/css/searchBar.css" rel="stylesheet">
    <title>게시판 페이지</title>
</head>

<body>

    <header th:replace="header :: header">헤더</header>

    <main class="container">
        <form>
            <label for="search-type" hidden>유형</label>
            <select id="search-type" name="search-type" class="form-select">
                <option>제목</option>
                <option>본문</option>
                <option>ID</option>
                <option>닉네임</option>
                <option>해시태그</option>
            </select>
            <label for="search-value" hidden>검색어</label>
            <input type="search" id="search-value" placeholder="검색어를 입력하세요." name="search-value" class="form-control"/>
            <button type="submit" class="btn btn-primary">검색</button>
        </form>

        <table class="table">
            <thead>
                <tr>
                    <th class="col-6">제목</th>
                    <th class="col">해시태그</th>
                    <th class="col">작성자</th>
                    <th class="col">작성일</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="article : ${articles}">
                    <td><a th:text="${article.title}" th:href="@{/articles/{id}(id=${article.id})}"></a></td>
                    <td th:text="${article.hashtag}"></td>
                    <td th:text="${article.nickname}"></td>
                    <td th:text="${article.createdAt}"></td>
                </tr>
            </tbody>
        </table>

        <!--삼항연산자에서 true 일때 ' disabled' 해 놨는데, 띄어쓰기를 안해서 "page-linkdisabled 로 출력됨. 띄어쓰기 주의!!!"-->
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                <li class="page-item">
<!--                    <a th:class="'page-link' + (${articles.number} - 1 < 0 ? ' disabled' : '')" th:href="@{/articles(page=${articles.number - 1})}">Previous</a>-->
                    <a th:class="'page-link' + (${articles.first} ? ' disabled' : '')" th:href="@{/articles(page=${articles.number - 1})}">이전</a>
                </li>
                <li th:class="page-item" th:each="pageNumber : ${pageBarNumber}">
                    <a th:text="${pageNumber + 1}" th:class="'page-link' + (${pageNumber} == ${articles.number} ? ' active' : '')" th:href="@{/articles(page=${pageNumber})}"></a>
                </li>
                <li class="page-item">
<!--                    <a th:class="'page-link' + (${articles.number} + 1 >= ${articles.totalPages} ? ' disabled' : '')" th:href="@{/articles(page=${articles.number + 1})}">Next</a>-->
                    <a th:class="'page-link' + (${articles.last} ? ' disabled' : '')" th:href="@{/articles(page=${articles.number + 1})}">다음</a>
                </li>
            </ul>
        </nav>
    </main>

    <footer th:replace="~{footer :: footer}"></footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
</body>
</html>